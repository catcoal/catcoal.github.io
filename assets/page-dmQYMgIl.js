import{a as w,r as n,j as s,c as N}from"./index--U6LczLY.js";import{M as z,u as X,P as $,a as _,b as D,L as A,m as T}from"./proxy-CY7x-ORl.js";/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var B=w("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H=w("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K=w("outline","rosette-discount-check","IconRosetteDiscountCheck",[["path",{d:"M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var U=w("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);class V extends n.Component{getSnapshotBeforeUpdate(o){const e=this.props.childRef.current;if(e&&o.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function F({children:r,isPresent:o}){const e=n.useId(),t=n.useRef(null),u=n.useRef({width:0,height:0,top:0,left:0}),{nonce:f}=n.useContext(z);return n.useInsertionEffect(()=>{const{width:d,height:i,top:h,left:l}=u.current;if(o||!t.current||!d||!i)return;t.current.dataset.motionPopId=e;const a=document.createElement("style");return f&&(a.nonce=f),document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${i}px !important;
            top: ${h}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[o]),s.jsx(V,{isPresent:o,childRef:t,sizeRef:u,children:n.cloneElement(r,{ref:t})})}const G=({children:r,initial:o,isPresent:e,onExitComplete:t,custom:u,presenceAffectsLayout:f,mode:d})=>{const i=X(O),h=n.useId(),l=n.useCallback(p=>{i.set(p,!0);for(const m of i.values())if(!m)return;t&&t()},[i,t]),a=n.useMemo(()=>({id:h,initial:o,isPresent:e,custom:u,onExitComplete:l,register:p=>(i.set(p,!1),()=>i.delete(p))}),f?[Math.random(),l]:[e,l]);return n.useMemo(()=>{i.forEach((p,m)=>i.set(m,!1))},[e]),n.useEffect(()=>{!e&&!i.size&&t&&t()},[e]),d==="popLayout"&&(r=s.jsx(F,{isPresent:e,children:r})),s.jsx($.Provider,{value:a,children:r})};function O(){return new Map}const y=r=>r.key||"";function S(r){const o=[];return n.Children.forEach(r,e=>{n.isValidElement(e)&&o.push(e)}),o}const W=({children:r,custom:o,initial:e=!0,onExitComplete:t,presenceAffectsLayout:u=!0,mode:f="sync",propagate:d=!1})=>{const[i,h]=_(d),l=n.useMemo(()=>S(r),[r]),a=d&&!i?[]:l.map(y),p=n.useRef(!0),m=n.useRef(l),x=X(()=>new Map),[b,k]=n.useState(l),[g,P]=n.useState(l);D(()=>{p.current=!1,m.current=l;for(let v=0;v<g.length;v++){const c=y(g[v]);a.includes(c)?x.delete(c):x.get(c)!==!0&&x.set(c,!1)}},[g,a.length,a.join("-")]);const R=[];if(l!==b){let v=[...l];for(let c=0;c<g.length;c++){const C=g[c],E=y(C);a.includes(E)||(v.splice(c,0,C),R.push(C))}f==="wait"&&R.length&&(v=R),P(S(v)),k(l);return}const{forceRender:M}=n.useContext(A);return s.jsx(s.Fragment,{children:g.map(v=>{const c=y(v),C=d&&!i?!1:l===g||a.includes(c),E=()=>{if(x.has(c))x.set(c,!0);else return;let I=!0;x.forEach(Y=>{Y||(I=!1)}),I&&(M==null||M(),P(m.current),d&&(h==null||h()),t&&t())};return s.jsx(G,{isPresent:C,initial:!p.current||e?void 0:!1,custom:C?void 0:o,presenceAffectsLayout:u,mode:f,onExitComplete:C?void 0:E,children:v},c)})})},L=n.createContext({relativeX:0,relativeY:0,offsetX:0,offsetY:0,ref:null,cursorType:"default",setCursorType:()=>{}});function te(){return n.useEffect(()=>{const r=document.createElement("style");return r.textContent=`
            .cursor-wrapper, .cursor-wrapper * {
                cursor: none !important;
            }
        `,document.head.appendChild(r),()=>{document.head.removeChild(r)}},[]),s.jsx(q,{children:s.jsx("div",{className:"cursor-wrapper relative w-full h-full overflow-hidden flex items-center justify-center p-5",children:s.jsxs("div",{className:"grid grid-cols-2 gap-5 items-center justify-center w-full h-full",children:[s.jsx(j,{type:"button",className:"w-full h-full bg-blue-300 rounded-2xl p-5",children:s.jsx("button",{})}),s.jsx(j,{type:"link",className:"w-full h-full bg-blue-400 rounded-2xl p-5",children:s.jsx("button",{})}),s.jsx(j,{type:"alert",className:"w-full h-full bg-blue-500 rounded-2xl p-5",children:s.jsx("button",{})}),s.jsx(j,{type:"check",className:"w-full h-full bg-blue-600 rounded-2xl p-5",children:s.jsx("button",{})})]})})})}function q({children:r}){const o=n.useRef(null),e=Q(o),[t,u]=n.useState("default");return s.jsxs(L.Provider,{value:{...e,ref:o,cursorType:t,setCursorType:u},children:[s.jsx(J,{}),s.jsx("div",{ref:o,className:"relative w-full h-full",children:r})]})}const J=()=>{const{relativeX:r,relativeY:o,cursorType:e}=n.useContext(L),[t,u]=n.useState(0),[f,d]=n.useState(null);n.useEffect(()=>{u(t+1),e!=="default"&&d(i[e])},[e]);const i={default:"",link:s.jsx(U,{className:"w-full h-full"}),button:s.jsx(H,{className:"w-full h-full"}),alert:s.jsx(B,{className:"w-full h-full"}),check:s.jsx(K,{className:"w-full h-full"})},h={default:{borderRadius:50,width:16,height:16,background:"#18181b",color:"#18181b"},link:{borderRadius:50,width:48,height:48,background:"#3b82f6",color:"#fafafa"},button:{borderRadius:50,width:48,height:48,background:"#666",color:"#fafafa"},alert:{borderRadius:50,width:48,height:48,background:"#f43f5e",color:"#fafafa"},check:{borderRadius:50,width:48,height:48,background:"#22c55e"}},l={initial:{x:"-100%",y:"100%",opacity:0},active:{x:0,y:0,opacity:1},exit:{x:"100%",y:"-100%",opacity:0}};return s.jsx(T.div,{className:N("w-4 h-4 absolute shadow-[inset_0_0_0_1px_rgba(255,255,255,0.25)] z-50 top-0 left-0 overflow-hidden pointer-events-none"),variants:h,animate:e,style:{transform:`translate(${r}px, ${o}px) translate(-50%, -50%)`},children:s.jsx("div",{className:N("w-full h-full flex items-center justify-center"),children:s.jsx(W,{initial:!0,mode:"popLayout",children:s.jsx(T.div,{variants:l,initial:"initial",animate:"active",exit:"exit",className:"w-1/2 h-1/2",children:f},t)})})})},j=({type:r,children:o,...e})=>{const{setCursorType:t}=n.useContext(L);return s.jsx("div",{...e,className:N(e.className),onMouseEnter:()=>t(r),onMouseLeave:()=>t("default"),children:o})},Q=r=>{const[o,e]=n.useState({relativeX:0,relativeY:0,offsetX:0,offsetY:0});return n.useEffect(()=>{const t=r.current;if(!t)return;const u=({clientX:i,clientY:h})=>{const l=t.getBoundingClientRect(),a=l.width/2,p=l.height/2,m=i-l.left,x=h-l.top,b=(m-a)/10*2,k=(x-p)/10*2;e({relativeX:m,relativeY:x,offsetX:b,offsetY:k})},f=()=>{e(i=>({...i,offsetX:0,offsetY:0}))},d=()=>{t.removeEventListener("pointermove",u),t.removeEventListener("pointerleave",f)};return t.addEventListener("pointerleave",f),t.addEventListener("pointermove",u),d},[]),o};export{q as CursorProvider,te as default};
